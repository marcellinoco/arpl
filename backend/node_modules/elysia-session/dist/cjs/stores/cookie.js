"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CookieStore = void 0;
class CookieStore {
    options;
    constructor(options) {
        this.options = options || {
            cookieName: 'session'
        };
    }
    getSession(id, ctx) {
        const cookie = ctx?.cookie[this.options.cookieName];
        return cookie ? JSON.parse(cookie.value) : null;
    }
    createSession(data, id, ctx) {
        ctx?.cookie[this.options.cookieName].set({
            value: JSON.stringify(data),
            ...this.options.cookieOptions
        });
    }
    deleteSession(id, ctx) {
        delete ctx?.cookie[this.options.cookieName];
    }
    persistSession(data, id, ctx) {
        ctx?.cookie[this.options.cookieName].set({
            value: JSON.stringify(data),
            ...this.options.cookieOptions
        });
    }
}
exports.CookieStore = CookieStore;
